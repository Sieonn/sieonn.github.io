---
title: "AWS 인스턴스 관리"
toc: true
toc_label: " AWS 인스턴스 관리"
---

### EC2 인스턴스의 수명 주기 상태

---

![image-20231013155433587](/../images/2023-10-13-AWS 인스턴스 관리/image-20231013155433587.png)

### EC2 인스턴스의 최대 절전 모드

![image-20231013155502920](/../images/2023-10-13-AWS 인스턴스 관리/image-20231013155502920.png)

### 최대 절전 모드: 사전 조건

![image-20231013155611127](/../images/2023-10-13-AWS 인스턴스 관리/image-20231013155611127.png)

on-demand, 예약형, spot 모델형 이 있는데, spot은 최대 절전 모드가 안됩니다.

예약형 모델은 1년 또는 3년입니다.



### 새로운 인스턴스 시작

![image-20231013155640248](/../images/2023-10-13-AWS 인스턴스 관리/image-20231013155640248.png)

콜드 타임 안에 대기에서 실행중으로 넘어오는 시간이 포함되어야합니다.

### 새 인스턴스 크기로 전환

**인스턴스 유형을 수정하는 방법**

![image-20231013155837634](/../images/2023-10-13-AWS 인스턴스 관리/image-20231013155837634.png)

### AMI 사용 중단

AMI 사용 중단은 실행 중인 인스턴스에 영향을 미치지 않습니다.

- Microsoft Windows AMI
  - 새 이미지 릴리스 직후 사용 중단 
  - AMI는 Microsoft 패치 후 5일 이내에 릴리스됨 
  - AMI ID가 아닌 이름으로 찾기
- Amazon Linux AMI
  - 수년 간 사용 가능 
  - 최신 Amazon Linux AMI 쿼리

```shell
aws ssm get-parameters-by-path --path "/aws/service/ami-amazon-linuxlatest" --query "Parameters[?Name=='/aws/service/ami-amazon-linuxlatest/amzn-ami-hvm-x86_64-gp2'].Value" --output text
```

### 실행 중인 EC2 인스턴스 업데이트

EC2 인스턴스 업데이트를 위한 추가 도구

- Microsoft Windows 
  - 인스턴스는 Windows 업데이트를 사용할 수 있습니다. 
  - 또는 수동으로 업데이트합니다. 
- Amazon Linux 
  - 인스턴스는 최초 시작 시 보안 업데이트를 설치합니다

- AWS Systems Manager 또는 
- AWS OpsWorks • 제3자 구성 관리 도구



엔지니어가 새 EC2 인스턴스로 작업하고 있습니다. 업데이트를 설치한 후 엔지니어는 서버를 재부팅하고 하루가 끝날 때 인스턴스를 종료할 때까지 서버를 실행합니다. 다음 날 엔지니어는 콘솔을 사용하여 서버를 다시 시작하지만 서버에 액세스할 수 없습니다. 콘솔에 모든 것이 실행 중임이 표시됩니다. 어떤 문제가 발생할 수 있습니까? 

EC2 인스턴스가 최대 절전 모드로 전환되기 전에 EBS 볼륨이 있어야 하는 이유는 무엇입니까? 

쉽게 구축할 수 있도록 인스턴스를 설계하는 것이 좋은 이유는 무엇입니까?

IP가 바뀌었을 때,

인스턴스가 실행중일 때 EIP, EBS는 정지해도 돌아간다.

### 핵심 사항

- EC2 인스턴스의 다양한 상태를 이해합니다. 
  - 실행 중 
  - 중지됨 
  - 종료됨 
  - **최대 절전 모드** 
- 과금에 대한 인스턴스 상태의 의미를 알고 있습니다. 
- **최대 절전 모드 옵션이 필요한 경우 시작 시 구성**해야 합니다.