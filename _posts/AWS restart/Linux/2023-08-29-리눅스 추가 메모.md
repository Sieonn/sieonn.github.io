---
title: "Linux 추가📝"
toc: true
toc_label: "Linux 추가📝"
toc_sticky: true
category: Linux
---

## Linux 기본 사항

###  시작과 종료

**리눅스**나 **유닉스**는 강제적으로 프로그램을 끈다면 어플래케이션이 정상적으로 실행되지 않는 경우가 생깁니다.

그렇기 때문에 정상적으로 종료하고 꺼야합니다.

<br/>tty1은 내가 접속하고 있는 터미널 번호를 뜻하며 패스워드는 입력해도 보이지 않습니다.

tty는 가상 콘솔을 의미합니다.

(`ctrl`+ `alt`) + `F1`~`F7`로 생성한 여러 가상 콘솔을 변경 할 수 있습니다.

### 로그인 성공시 메시지 출력 요소

**리눅스**

- 리눅스는 부팅할 때 BIOS 정보를 읽어 옵니다.

- 타임 서버를 구성해 줘야합니다.

**윈도우**

- 타임 서버가 인터넷에 연결 되면 자동으로 동기화 됩니다. 

**우분투**

- 운영체제는 컨테이너를 구성하기 좋습니다.

### 프롬프트와 명령어

프롬프트란?

누군가의 특정한 작업 수행을 도우려 전달하는 메시지를 말합니다.

`yummy@ubuntu:~$ or #`

로그임 사용자 계정: yummy

시스템 호스트 이름: ubuntu

**~$:** 홈 사용자 홈 디렉토리

`~은 현재 위치를 말해줍니다.`

#: 관리자 계정

**pwd**: 현재 작업 디렉토리를 설명합니다.

​	`/home/ubuntu`

**sudo:** 일반 사용자라면 sudo 명령어를 입력해서 루트 권한을 얻습니다.

계정 정보를 알고 싶다면 아래의 명령을 입력하면 알 수 있습니다.

​	`sudo nano /etc/passwd`

프롬프트에서 `^`는 ctrl키를 말합니다.

cd: 위치를 변경할 때 사용합니다. 

​	`cd /home` 을 실행하면 홈 디렉토리로 위치가 변경됩니다. 뒤에 위치 없이 `cd`를 입력하면 기본 위치로 돌아갑니다.

### 우분투 서버 로그아웃

**시스템 종료**

shutdown 프로스세가 행 걸립니다.

=> 무언가 동작을 하다가 잘못 되어서 안 넘어간다는 것을 말합니다.

shutdown을 쓰면 어떤 어플리케이션이 문제가 생겼을 때 정상적으로 돌아올 때 까지 기다립니다.

그래서 보통 **halt** 를 사용합니다.



**shutdown -k +15**:  현재 접속한 사용자에 15분 후 종료 된다는 메시지를 보내지만 실제로는 종료되지 않습니다. 

**shutdown -c:** 예약된 shutdown을  취소합니다.

**shutdown -P +10:** 10분 후 종료 됩니다. 

**shutdown -r 22:00:** 오후 10시에 재부팅 됩니다.



**halt :**  문제가 생긴 어플리케이션이 정상적으로 되기를 기다리지 않고 강제 종료 합니다.

**halt -p:** 리눅스 머신을 종료합니다.

**halt -f:**  halt.power-off/reboot에서 리눅스 머신 강제 종료합니다.

**halt -w:** halt.power-off/reboot를 안합니다. wtmp만 기록합니다.<br/>`wtmp란 성공한 로그인/로그아웃 정보를 담고 있는 로그파을 뜻합니다.`

**halt -d:** wtmp를 저장하지 않고 종료합니다.

<br/>

**런레벨(RunLevel)이란?**

런레벨은 리눅스 시스템 관리의 용이함을 위하여 서비스의 실행을 단계별로 구분하여 적용하는 것을 말합니다. 보통 0~6까지로<span style="background-color:#cceecc"> **총 7가지 모드**</span>가 있습니다. 리눅스 마다 조금씩 다르지만 0은 정지 1은 싱글모드, 6은 재시작이라는 것은 통일 되어있습니다.
<br/>낮은 레벨일 수 록, 시스템 시작시 불러오는 드라이버나 데몬 수 가 적습니다.

 -  0 -halt(Do NOT set initdefault to this)

    시스템 종료를 의미합니다. 런레벨 0으로 변경하라는 명령은 시스템을 종료하는 것입니다.

    `init0`: 시스템 종료

- 1 -Single user mod

  시스템 복원모드라고도 하며, 기본적으로 관리자 권한을 얻습니다. 주로, 파일 시스템을 점검하거나 관리자 암호를 변경할 때 사용합니다. 윈도우의 안전모드와 유사합니다.

- 2 - Multiuser mode, without NFS(The same as 3, if you do ot have networking)

  NFS(Network File System)을 지원하지 않는 다중 사용자 모드입니다. 네트워크를 사용하지 않습니다.

- 3 -Full muliuser mode

  CLI 다중 사용자 모드입니다. 그래픽 유저 모드를 지원하지 않습니다.

- 4 -unused

  임의로 정의해서 사용할 수 있는 레벨입니다. 기본적으로는 사용하지 않습니다.

- 5 -X11

  level 3과 유사하나 그래픽 유저모드를 지원합니다.

- 6 -reboot(DO NOT set initdefault to this)

  시스템 재부팅을 의미합니다. 런레벨 6으로 변경하라는 명령을 내리면 시스템을 재부팅합니다.

  `init6`: 재부팅

보통 0, 3, 6을 많이 사용합니다. 런레벨의 변경은 root 사용자의 경우만 가능합니다.

power off = `shutdown -h now`

### 실전에서 활용했던 내용

`sudo passwd 비밀번호 바꿀 계정` : 비밀번호 재설정

`sudo nano /etc/ssh/sshd_config`

▶ `#PermitTTY`에서 #지우고 뒤에 yes로 바꿔주면 root  계정 사용 가능합니다.

 로그가 길어서 넘어가면 `|(파이프라인)`을 사용하면 보기 편합니다.

`sudo systemctl status sshd`: 정상 적용됐는지 상태 확인할 때 사용합니다.

`su -사용자명`: 사용자 변경 명령어 입니다.

`su -root`: 관리자로 사용자를 변경할 때 사용합니다.

`ls -l runlevel?.target`

여기에서  `?`는 여기에 하나의 문자가 올 수있다는 뜻입니다.

저런 형태의 파일들을 전부 출력하고 싶을 때 사용합니다.

<br/>passwd는 shadow가 관리하며, 사용자 계정은 pwd가 관리합니다.

`lsb-release -a`: 버전 확인할 때 사용하는 명령어 입니다.

`ehco $?`: 앞에 작성한 명령어가 제대로 실행 됐는지 확인합니다. 정상적으로 됐을 시에는 0, 실행 실패시에는 1을 출력합니다.



`!!`: 바로 전에 실행했던 명령어를 재 실행합니다.

`!n`: history로 확인한 번호를 느낌표 뒤에 붙여서 명령하면 해당 명령어가 실행됩니다.

### 리눅스 파일 종류

L: 링크파일을 뜻합니다. 링크가 걸려있는 파일입니다.

d: 디렉터리 파일

b: 저장 장치 디바이스 파일

c: 입출력 장치 디바이스 파일

-일반파일

/dev: 디바이스 관련된 파일이 저장되어 있는 곳

.  : 현재 자신의 위치

..  : 상위 디렉토리

​	../..  : 상위의 상위 디렉토리

### 유용한 명령

**hostnamectl set-hostname restart:** hostname을 바꾸는 명령입니다.

**echo:** 내가 요청하는 정보를 그대로 출력 해주는 명령 값입니다.

**touch:** 파일의 액세스 시간과 수정 시간을 현재 시간으로 업데이트 하는 데 사용합니다.

**echo hello > mzc.txt:**  hello를 mzc.txt에  삽입합니다.

**echo mzc >> mzc.txt:** `>>`를 사용하면 이미 기존에 있는 내용을 유지하면서 맨 마지막에 붙여넣는 것을 의미합니다.

**grep:** 파일의 내용을 보고자 할 때 사용합니다.

**find:** 검색 명령어입니다.

탭키를 두 번 누르면 일치하는 모든 옵션이 표시됩니다.