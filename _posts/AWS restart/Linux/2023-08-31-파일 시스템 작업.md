---
title: "파일 시스템 작업"
toc: true
toc_label: "파일 시스템 작업"
toc_sticky: true
category: Linux
---

## 파일과 디렉터리 찾기

### Linux에 있는 모든 것이 파일

<p align = "center"><img src="/../../images/2023-08-31-파일 시스템 작업/파일-1697987070062.png" width="60%" height="60%"></p> 

- Linux의 경우 명령, 하드웨어, 디렉터리가 파일로 표시됩니다.
- 시스템 구성이 대부분 파일에 있습니다.
- 파일은 투명성을 허용합니다.

### 파일

디렉터리

🔽

```bash
[ec2-user@myServer ~]$ la -l
total 0
drwxrwxr-x 5 ec2-user
```

<br/>

-l  옵션이 있는 ls 명령은 파일이기도 하므로, ls 명령 구성 파일을 나열 할 수  있습니다.

🔽

```bash
[ec2-user@myServer bin]$ ls -l ls
-rwxr-sr-x 1 root root 109288 Jan 23 2020 ls
[ec2-user@myServer bin]$
```

<br/>

ls  명령은 다른 명령과 함께 사용하여 .txt 문서에 대한 검색 조건을 만들 수 있습니다.

🔽

```bash
[ec2-user@myServer ~]$ ls | grep.txt
myFile.txt
[ec2-user@myServer ~]$ ls >> myFilesList.txt
[ec2-user@myServer ~]$ more myFilesList.txt
Company A
myFile
myFilesList.txt
myFile.txt
```

### Linux 파일 이름 및 확장자

파일 이름 이해

- 대소문자를 구분합니다.
- 디렉터리에 같은 이름이 있으면 안 됩니다.
- / 또는 공백이 있으면 안 됩니다.

파일 확장자 이해

- 확장자는 선택 사항이며 애플리케이션에 반드시 매핑되지는 않습니다.

### 파일 시스템

파일 시스템: 스토리지 디스크에서 데이터 이름 지정, 검색, 구성하는 방법

<p align = "center"><img src="/../../images/2023-08-31-파일 시스템 작업/파일 시스템.png" width="110%" height="110%"></p> 

### 파일 시스템 계층 표준(FHS)

FHS 디렉터리

| 디렉터리 | 기능                                  |
| -------- | ------------------------------------- |
| /        | 파일 시스템의 루트                    |
| /boot    | 부트 파일과 커널                      |
| /dev     | 디바이스                              |
| /etc     | 구성 파일                             |
| /home    | 스탠더드 사용자 홈 디렉터리           |
| /media   | 이동식 미디어                         |
| /mnt     | 네트워크 드라이브                     |
| /root    | 루트 사용자 홈 디렉터리               |
| /var     | 로그 파일, 인쇄 스풀, 네트워크 서비스 |

## 파일 및 디렉터리 관리 명령

### ls 명령으로 명령 구문 이해하기

ls 명령

- ls 명령은 디렉터리에 있는 파일 목록을 표시합니다.

명령이 수행하는 작업

- 다른 색상은 유형이 다른 파일을 나타냅니다.
- ls 명령은 현재 디렉터리의 내용을 나열합니다.
- ls dir 명령은 dir 디렉터리의 내용을 나열합니다.

###  ls 명령 옵션과 예제

유용한 옵션

| 옵션                   | 설명                                      |
| ---------------------- | ----------------------------------------- |
| -l                     | 긴 형식(권한 표시)                        |
| -h                     | 사람에게 친숙한 형식으로 보고된 파일 크기 |
| -a                     | 숨겨진 파일을 포함한 모든 파일 표시       |
| -R                     | 하위 디렉터리 나열                        |
| --sort=extension or -X | 파일 확장자에 따라 알파벳순으로 정렬      |
| --sort=size or -S      | 파일 크기별로 정렬                        |
| --sort=time or -t      | 수정 시간순으로 정렬                      |
| --sort=version or -v   | 버전 번호로 정렬                          |

### more 명령

- 한 화면에 전부 표시되지 않는 파일 내용을 보는 데 사용됩니다.

- 결과를 표시하기 전에 파일 전체 내용을 로드 합니다.

- 아래로 스크롤만 가능합니다.

- 다른 명령과 함께 사용할 수 있습니다.

  `cat file.txt | more`

### less 명령

- 한 화면에 전부 표시되지 않는 파일 내용을 보여 줍니다.
- 콘텐츠를  위아래로 스크롤할 수 있습니다.
- less는 결과를 표시하기 전에 모든 페이지를 로드하지 않으므로  more보다 빠르게 로드됩니다.
- 대용량 파일에 주로 사용됩니다.

###head 명령

- 파일의 처음 10줄을 기본값으로 표시합니다.
- 여러 파일을 표시할 수 있습니다.

head 명령을 -n옵션과 함께 사용하면 표시할 줄 수를 지정할 수 있습니다.

### tail 명령

- 파일의 마지막 10줄을 기본값으로 표시합니다.
- tail 명령을  -n 옵션과 함께 사용하면 표시할 줄 수를 지정할 수 있습니다.

### cp 명령

- cp 명령은 파일과 디렉터리를 복사합니다.

- cp명령은 기본값으로 이름이 동일한 기존 파일을  덮어씁니다.

  `Ex) cp <filename> <destination>`

### cp 명령: 추가 옵션

| 옵션  | 설명                                           |
| ----- | ---------------------------------------------- |
| cp -a | 아카이브 파일                                  |
| cp -f | 필요시 대상 파일을 덮어써서 강제로 복사        |
| cp -i | 대화형 - 덮어쓰지 전에 묻기                    |
| cp -l | 복사 대신 파일 링크                            |
| cp -L | 심볼릭 링크 따라가기                           |
| cp -n | 파일 덮어쓰기 없음                             |
| cp -R | 재귀 복사(숨겨진 파일 포함)                    |
| cp -u | 업데이트 -소스가 대상보다 최신 상태일  때 복사 |
| cp -v | 세부 정보 - 정보 메시지 인쇄                   |

### rm 명령

rm 명령은 파일을 삭제합니다.

**주요 기능**

- 파일이 쓰기 방지되어 있으면 사용자에게 확인을 요청하는 메시지가 표시됩니다. 
- 많은 파일을 한 번에 제거할 수 있습니다. 
- 전체 디렉터리를 제거하려면 –r 옵션과 –f 옵션을 사용합니다(m –rf dir)

**사용 방법**

`]$ rm [OPTIONS] filename(s)`

### mkdir 명령

mkdir 명령은 새 디렉터리를 만듭니다.

옵션

- -m : 디렉터리에 대한 권한 설정 
- -p: 상위 디렉터리 생성

사용 방법

`]$ mkdir [OPTIONS] filename(S)`

### mv 명령

mv 명령은 파일을 한 디렉터리에서 다른 디렉터리로 이동합니다.

 mv 명령은 소스와 대상이 동일하면 파일 이름을 다시 지정합니다

`mv 명령은 기본값으로 이름이 동일한 기존 파일을 덮어씁니다.`

**사용 방법**

`]$ mv [OPTIONS] destination`

### rmdir 명령

rmdir 명령은 기존의 빈 디렉터리를 삭제합니다(rmdir ). 

디렉터리가 비어 있지 않으면 rm -r 을 사용합니다. 이 명령은 디렉터리와 모든 내용을 제거합니다.

### pwd 명령

- pwd 명령의 출력: 파일 시스템의 현재 위치에 대한 절대 경로입니다. 
- 탐색에 필수: 다른 디렉터리로 이동하려면 파일 시스템에서 현재 위치를 알아야 합니다.

## 절대 경로와 상대 경로의 비교

### 경로

- 경로는 특정 리소스에 도달하기 위해 탐색할 디렉터리를 정의합니다. 
- 그래픽 사용자 인터페이스(GUI)에서는 디렉터리를 열어 탐색합니다. 
- 명령줄 인터페이스(CLI)에서도 디렉터리를 탐색하지만 이름별로 지정합니다.

### 경로 유형

- 절대 경로는 파일 시스템 루트의 전체 리소스 경로입니다. 

  - – 파일 시스템 루트에서 projects 디렉터리에 액세스하기 위한 절대 경로 

    ` /home/userA/Documents/projects ` 

- 상대 경로는 현재 디렉터리의 리소스 경로입니다. 

  - – Documents 디렉터리에서 projects 디렉터리에 액세스하기 위한 상대 경로

    `Documents/projects`

### cd 명령

디렉터리 변경 또는 cd 명령은 한 디렉터리에서 다른 디렉터리로 이동하는 데 사용됩니다.

- 절대 경로와 함께 cd 명령 사용

  ```bash
  [ec2-user@myServer etc]$ cd /home/ec2-user/Documents/project/
  [ec2-user@myServer project]$
  ```

  

- 상대 경로와 함께 cd 명령 사용

  ```bash
  [ec2-user@myServer etc]$ pwd
  /home/ec2-user
  [ec2-user@myServer etc]$ cd Documents/project/
  [ec2-user@myServer project]$
  ```

  

## 확인 질문

1. 절대 경로와 상대 경로의 차이점은 무엇입니까?

   절대 경로는 내 위치에 상관없이 정확한 경로를 입력해서 이동하는 것 이고 상대경로는 내 위치를 기반으로 이동한ㄹ 곳으로 가는 것입니다.

2. 어떤 경우에 more 명령 대신 less 명령을 사용합니까? 그 이유는 무엇입니까?

   대용량 파일에 주로 사용됩니다. less는 결과를 표시하기 전에 모든 페이지를 로드하지 않아서 more보다 빠르게 로드되기 때문입니다.

## 핵심 요점

- Linux에 있는 모든 것은 파일입니다. 
- Linux 파일 시스템은, 
  - – 대소문자를 구분합니다. 
  - – 키와 유사한 디렉터리를 포함합니다. 
    -  / 
    - /home 
    - /mnt  
- Linux에는 파일 작업에 도움이 되는 많은 명령이 있습니다. 그 중 일부는 다음과 같습니다. 
  - Ls – 디렉터리 내용 나열 
  - Cat – 파일 내용 표시 
  - Cp – 파일 복사 
  - Rm – 파일 제거 
  - Mkdir – 디렉터리 생성 
- Linux에는 절대/상대 디렉터리 경로가 있습니다.