---
title: '태깅'
---

## 태깅

### 태그란 무엇입니까?

태그: 

• AWS 리소스에 연결할 수 있는 키-값 페어입니다. • 리소스를 식별하고 분류할 수 있습니다.

![image-20231101105453864](/../images/2023-10-31-태깅/image-20231101105453864.png)

### 태그 특성

| 특성                                                         | 참고                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 생성하는 동안 Amazon Elastic Compute Cloud(Amazon EC2) 인스턴스, Amazon Elastic Block Store(Amazon EBS) 볼륨 등과 같은 많은 리소스에 태그를 지정할 수 있습니다. | 태그는 리소스를 생성한 후 별도 작업으로 지정해야 합니다.     |
| 태그 키와 값은 대/소문자를 구분합니다.                       | 일관되고 표준적인 형식을 사용하는 것이 가장 좋습니다.        |
| 일부 태그는 기본 제공되는 것으로서 제거할 수 없습니다.       | aws: 접두부(prefix)가 있는 태그 이름이 내장되어 있습니다. 예: aws:createdBy 또는 aws:cloudformation: |
| 일부 태그는 전파될 수 있습니다.                              | 예를 들어 AWS CloudFormation 스택의 일부로 생성된 리소스는 자동으로 aws:cloudformation: 태그를 상속합니다. |
| 리소스에 대해 여러 태그를 만들 수 있습니다.                  | 리소스당 최대 50개의 태그를 생성할 수 있습니다.              |

### 일반 태그의 예제

일반 태그: • 환경(프로덕션, 테스트) • 애플리케이션 • 소유자 • 부서 • 비용 센터 • 목적 • 스택

### AWS Config 및 태깅

AWS Config는 리소스에 태깅을 강제 적용하는 메커니즘을 제공합니다.

- required-tags 관리형 규칙을 사용합니다. • 필수 태그 키(및 선택적으로 필요한 값)를 지정합니다. • 규칙을 평가하고 비준수 리소스를 식별합니다.

|           | 파라미터                                                     |
| --------- | ------------------------------------------------------------ |
| tag1Key   | 필수 태그의 키입니다                                         |
| tag1Value | 필수 태그의 선택적 값입니다. 값이 여러 개인 경우 쉼표로 구분합니다 |

### AWS CLI에서 태깅

태그 생성:

{: .notice}

export TIMESTAMP=\`date` <br/>aws ec2 create-tags --resources i-1234567890abcdef0 **--tags "Key=SecurityCheck,Value=$TIMESTAMP"**

태그를 기반으로 쿼리 및 필터링:

{: .notice}

aws ec2 **describe-instances** --filters "Name=tag-key,Values=**SecurityCheck**" --query "Reservations[].Instances[].[**InstanceId,Tags[?Key=='SecurityCheck'].Value**]"

### 일반 용례

태그의 일반 용례

특정 태그가 있는 인스턴스를 동시에 시작하거나 종료합니다. 예를 들어 주말에는 모든 Development 인스턴스를 종료합니다. • 기업 표준에 대한 태깅 강제 적용 요구 사항을 시행합니다. • 태그 또는 종료(Conformity Monkey) • 의사코드(표시됨)

![image-20231101110213234](/../images/2023-10-31-태깅/image-20231101110213234.png)

### IAM으로 태깅 강제 적용하기

특정 태그의 사용을 강제 적용하는 IAM 정책을 작성합니다. Condition 정책 요소를 사용합니다.

![image-20231101110234558](/../images/2023-10-31-태깅/image-20231101110234558.png)

### 태깅 모범 실무

- 기술, 비즈니스 및 보안 차원에서 리소스를 분류할 수 있도록 비즈니스 관련 태그 그룹을 생성할 수 있습니다.
- 항상 너무 적은 수의 태그를 사용하는 것이 아니라 더 많은 태그를 사용합니다.
- 항상 표준화된 대/소문자 구분 형식의 태그를 사용하고 모든 리소스 유형에 일관적으로 태그를 구현합니다.
- 리소스 태그를 관리하는 데 도움이 되는 자동화된 도구를 구현합니다. 예를 들어 Resource Groups Tagging API를 사용합니다. 

## 핵심 사항

- 태그는 AWS 리소스에 연결된 설명 레이블입니다. • IAM 정책을 사용하여 리소스에서 특정 태그를 사용하 도록 요구하고 AWS Config를 사용하여 주기적으로 모 든 리소스에 태그가 지정되었는지 확인합니다. • 효과적인 태깅 전략은 리소스 액세스 제어, 비용 추적, 자동화 및 구성을 가능하게 하는 차원을 따라 태그를 정의합니다.

