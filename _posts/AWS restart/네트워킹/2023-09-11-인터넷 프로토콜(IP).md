---
title: "인터넷 프로토콜(IP)"
toc: true
toc_sticky: true
toc_label: "인터넷 프로토콜(IP)"
category: networking
---

## IP란?

### IP

**IP란?** 

- IP는 인터넷에서 데이터를 전달, 중계하기 위한 규칙을 설정하는 네트워크 프로토콜입니다. 
- IP 주소를 사용해 디바이스를 식별합니다. 
- 포트 번호를 사용해 엔드포인트를 식별합니다. 
- 서브넷팅을 지원해 네트워크를 세분화합니다

## IP 주소

### IP 주소

**IP 주소란?** 

- IP 주소는 네트워크에서 디바이스를 식별할 수 있는 고유한 요소입니다. 네트워크의 각 디바이스에는 IP 주소가 있으며, IP 주소는 다음과 같은 두 가지 주요 기능을 수행합니다. 
  - **호스트와 네트워크를 식별**합니다. 
  - **위치 주소에도 사용**됩니다.

### 공인/사설 IP 주소 - OSI 모델

IP 주소는 OSI 모델의 **계층 3(네트워킹)**에서 작동합니다. IP 주소는 디바이스에 **유동**으로 또는 **고정**으로 할당되며, **공인** 또는 **사설** 주소가 될 수 있습니다. 

IP 주소(계층 3)와 관련해서 **발생할 수 있는 문제의 예**는 다음과 같습니다. 

- 대기 시간 
- 서버 응답 없음 
- 고정으로 할당되어야 할 IP 주소가 유동으로 할당됨 

계층 3 문제 해결에 사용될 수 있는 **문제 해결 명령**의 예는 다음과 같습니다. 

- Ping 
- traceroute



### OSI 모델의 계층 3

**계층 3(네트워크 계층)**은 **논리적 네트워크 주소**를 MAC 주소와 같은 **물리적 주소로 바꿔 줍니다.** 

- 네트워크 계층은 **메시지 전달 방식을 결정**합니다. 
- 메시지가 너무 크면 메시지를 나누는 방법을 결정합니다. 
- 다음과 같은 수많은 프로토콜이 네트워크 계층에 속해 있습니다. 
  - 계층 주소와 정보 
  - 라우팅 프로토콜

### 사설/공인 IP 주소

RFC 1918이라는 가이드에는 **사설 IP 주소의 범위**가 지정되어 있습니다. 

- 10.0.0.0~10.255.255.255 
- 172.16.0.0~172.31.255.255 
- 192.168.0.0~192.168.255.255

**10.0.0.0** 같은 **사설 IP 주소**에는 논리적으로 격리된 사설 네트워크에서만 액세스할 수 있습니다

54.239.28.85[amazon.com] 같은 **공인 IP 주소에는 누구든 인터넷을 통해 공개적으로 액세스**할 수 있습니다

### IP 주소 - IPv4

IPv4 주소는 네트워크 내에서 디바이스를 식별할 수 있는 고유한 요소입니다. 이 주소는 10진수로 된 32비트 숫자로 이루어져 있으며, 마침표로 구분됩니다.

![image-20231103205449270](/../../images/2023-09-11-인터넷 프로토콜(IP)/image-20231103205449270.png)

---

IPv4 주소는 다음의 두 부분으로 나뉩니다. 

- 네트워크 부분 
- 호스트 부분

<span style="background-color: #ccd1ff">**10 \. 0 .**</span><span style = "background-color: #1e88"> **0 . 0 **&nbsp;</span>

<span style="background-color: #ccd1ff">**네트워크**</span>

IP 주소의 네트워크 부분은 **네트워크**에 할당된 숫자입니다.

<span style = "background-color: #1e88"> **호스트**</span>

IP 주소의 호스트 부분은 각 **호스트**에 할당된 숫자입니다.

### IP 주소 - IPv6

IPv6 스탠더드는 IPv4 주소의 범위를 1,028배 확장한 것입니다. IPv6는 16진수 그룹을 사용하며 **콜론(:) 8개로 구분**됩니다. 

- 보안성 향상 
- 더 효율적인 패킷 관리 
- 성능 향상 
- **각 숫자는 네트워크와 네트워크의 디바이스를 모두 식별**

![image-20231103210850612](/../../images/2023-09-11-인터넷 프로토콜(IP)/image-20231103210850612.png)

### IP 주소 – 유동/고정

IP 주소는 디바이스에 유동으로 또는 고정으로 할당됩니다.

**고정 주소**를 사용하는 디바이스에 할당된 IP 주소는 변경할 수 없습니다.

- 서버나 프린터처럼 자주 연결하는 디바이스에는 고정 주소가 유용합니다.

**유동 주소**를 사용하는 디바이스에 할당된 IP 주소는 변경할 수 있습니다.

- 업무 네트워크에 연결되어 있는 업무용 랩톱을 사용자의 홈 네트워크와 연결하는 경우에는 유동 주소가 유용합니다.

### IP 주소 - EC2 인스턴스

EC2 인스턴스에는 고정/유동 IP 주소를 할당할 수도 있습니다

**고정 IP 주소**를 사용하는 경우 시스템이나 EC2 인스턴스를 껐다가 다시 켜도 IP 주소가 그대로 유지됩니다. IP 주소는 변경되지 않습니다.

**유동 IP 주소**를 사용하는 경우 시스템이나 EC2 인스턴스를 껐다가 다시 켜면 IP 주소가 변경됩니다.

### IP 주소 - 요약

IP 주소는 **공인** 또는 **사설 주소**가 될 수 있습니다. 

- **공인 IP 주소**는 인터넷을 통해 액세스할 수 있는 IP 주소입니다. 
  - 공인 IP 주소는 전화번호부 또는 인터넷에서 찾을 수 있는 전화번호와 비슷합니다. 
  - 54.239.28.85[amazon.com] 같은 공인 IP 주소에는 누구든 인터넷을 통해 공개적으로 액세스할 수 있습니다. 
- **사설 IP 주소**는 사설 네트워크 내의 컴퓨터에 할당되며 인터넷에서 액세스할 수 없습니다. 
  - 사설 IP 주소는 비공개 목록에 있는 전화번호 또는 공개되지 않은 개인 번호와 비슷합니다. 
  - 10.0.0.0 같은 사설 IP 주소로는 논리적으로 격리된 사설 네트워크에서만 액세스할 수 있습니다. 
- EC2 인스턴스는 사설/공인 IP 주소를 모두 사용할 수 있습니다. 
  - 사설 IP 주소는 VPC 내의 트래픽을 라우팅하는 데 사용됩니다. 
  - 공인 IP 주소(활성화된 경우)는 인터넷과 상호 작용하는 데 사용됩니다. 

### IP 주소 - 특수 목적

네트워크에 10.0.0.0~10.255.255.255 같은 IP 주소 범위가 할당될 때 일부 주소에는 특수한 목적이 있습니다. 이러한 주소는 호스트 주소로 할당되지 않습니다. 

- **기본 라우터 주소**는 일반적으로 범위에서 두 번째 주소인 **10.0.0.1**입니다. 
- **브로드캐스트 주소**는 범위에서 가장 마지막 주소인 **10.255.255.255**입니다

### 2진수로 IP 주소 변환

IP 주소 지정을 이해하면 IP 주소를 2진수로 변환할 수 있습니다. 2진수는 2진법으로 표현되며 2진법은 다음과 같이 **0과 1로만 구성**됩니다.

- 값은 0이나 1이며 **2진수 또는 비트**라고 합니다. 
- IPv4 주소에서는 **마침표 사이의 각 숫자 네 개가 8비트 2진수**입니다. 즉, 전체 주소는 32비트 2진수입니다. 
- 다음 테이블을 사용해 8비트 2진수를 10진수로 변환하거나, 10진수를 8비트 2진수로 변환할 수 있습니다.

| 비트 위치 | 2진수 제곱 | 10진수 값 |
| :-------: | :--------: | :-------: |
|     8     |    2^7     |    128    |
|     7     |    2^6     |    64     |
|     6     |    2^5     |    32     |
|     5     |    2^4     |    16     |
|     4     |    2^3     |     8     |
|     3     |    2^2     |     4     |
|     2     |    2^1     |     2     |
|     1     |    2^0     |     1     |

## 포트 번호

### 포트 번호

**포트 번호란?** 

- **포트 번호**를 사용하면 네트워크의 디바이스가 **통신하는** 다른 디바이스 또는 애플리케이션을 **추가로 식별**할 수 있습니다.
  - 포트 번호는 **엔드포인트**라고도 합니다. 
  - 예를 들어 **포트 번호를 전화의 내선 번호**라고 생각해 보겠습니다. 병원(IP)의 전화번호는 알아도 정확한 부서(엔드포인트)에 연락하려면 내선 번호(또는 포트)가 필요할 것입니다. 

{: .notice}

**일반적인 포트 번호의 예**<br/>포트 22: Secure Shell(SSH)<br/> 포트 53: DNS(도메인 이름 시스템)<br/> 포트 80: HTTP(하이퍼텍스트 전송 프로토콜)<br/> 포트 443: HTTPS(보안이 추가된 하이퍼텍스트 전송 프로토콜)<br/> 포트 3389: RDP(원격 데스크톱 프로토콜)

### 포트 번호의 예제

![image-20231103212616921](/../../images/2023-09-11-인터넷 프로토콜(IP)/image-20231103212616921.png)

이 예제에서는,

- 컴퓨터 B의 애플리케이션이 컴퓨터 A와 C에서 동시에 데이터를 받습니다. 
- 컴퓨터 A와 C는 다른 애플리케이션을 실행 중이며, 이 애플리케이션은 네트워크의 다른 컴퓨터와 통신합니다. 
- 컴퓨터 A, B, C에서 각자 통신 중인 애플리케이션은 **고유한 엔드포인트(IP 주소와 포트 번호)**로 식별되므로, 세 애플리케이션의 메시지가 정확한 대상 위치로 전달됩니다.

## 확인 질문

1. **프린터에는 어떤 유형의 IP 주소를 할당해야 합니까?**

   자주 연결하는 디바이스에는 고정 주소를 할당합니다. 

2. **IP 주소 10.0.0.1에서 어느 부분이 네트워크이고, 어느 부분이 호스트입니까?**

   10.0이 네트워크고 0.1이 호스트입니다.

## 핵심 요점

- IP 주소는 네트워크에서 디바이스를 고유하게 식별하고 디바이스와 통신할 수 있습니다. 
- IPv4 주소는 범위가 0~255인 숫자 네 개로 구성되며 각 숫자는 마침표(.)로 구분됩니다. 
- **포트 번호**는 디바이스의 애플리케이션 또는 서비스를 추가로 식별할 수 있습니다. 포트 번호가 디바이스의 IP 주소와 결합되면 **엔드포인트**를 나타냅니다.