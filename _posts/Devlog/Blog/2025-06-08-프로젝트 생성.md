---
title: "[ë¸”ë¡œê·¸ë§Œë“¤ê¸°] 03. Next.js 14 + Contentlayerë¡œ ì‹œì‘í•˜ê¸°"
toc: true
toc_label: "ëª©ì°¨"
toc_sticky: true
category: "blog"
---

## ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ì˜ ì²« ê±¸ìŒ

**Next.js 14ì˜ App Routerì™€ Contentlayer**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ  
í”„ë¡œì íŠ¸ë¥¼ ì„¸íŒ…í•˜ì˜€ìŠµë‹ˆë‹¤. 

ì´ ê¸€ì—ì„œëŠ” í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ì–´ë–»ê²Œ ì„¤ê³„í•˜ê³ , ì–´ë–¤ ì„¤ì •ì„ ì ìš©í–ˆëŠ”ì§€ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

---

## ğŸ§± ì‚¬ìš©í•œ ìŠ¤íƒ ìš”ì•½

- **Next.js 14** (App Router ê¸°ë°˜)
- **TypeScript**
- **TailwindCSS** (with Typography plugin)
- **Contentlayer** (MDX ê¸°ë°˜ ì½˜í…ì¸  ê´€ë¦¬)
- **Zustand** (ì „ì—­ ìƒíƒœê´€ë¦¬)
- **next-themes** (ë‹¤í¬ëª¨ë“œ ì§€ì›)
- **Prettier + Tailwind í”ŒëŸ¬ê·¸ì¸**
- **Vercel** (ë°°í¬ ì˜ˆì •)

---

## í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

### Next.js 14 + App Router í…œí”Œë¦¿ìœ¼ë¡œ ìƒì„±

```bash
npx create-next-app@latest blog \
  --typescript \
  --tailwind \
  --eslint \
  --app \
  --src-dir \
  --import-alias "@/*"
cd blog
```

### íŒ¨í‚¤ì§€ ì„¤ì¹˜ (yarn ê¸°ì¤€)

```bash
# ì½˜í…ì¸  ê´€ë¦¬
yarn add contentlayer next-contentlayer @contentlayer/source-files
yarn add date-fns reading-time

# ìƒíƒœ ê´€ë¦¬
yarn add zustand

# ìœ í‹¸ë¦¬í‹°
yarn add next-seo next-sitemap next-themes react-icons gray-matter

# ê°œë°œ ë„êµ¬
yarn add -D @tailwindcss/typography prettier prettier-plugin-tailwindcss
```

------

## ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ëª…

### ğŸ“ ì½˜í…ì¸  ê´€ë¦¬ (Markdown ì²˜ë¦¬)

```bash
yarn add contentlayer next-contentlayer @contentlayer/source-files
```

- **contentlayer**: ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ íƒ€ì…ê³¼ í•¨ê»˜ JSON í˜•íƒœë¡œ ë³€í™˜
- **next-contentlayer**: Next.jsì™€ Contentlayer ì—°ë™
- **@contentlayer/source-files**: ë¡œì»¬ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ì½˜í…ì¸  ì†ŒìŠ¤ë¡œ ì‚¬ìš©

------

### ğŸ“… ë‚ ì§œ ë° í…ìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°

```bash
yarn add date-fns reading-time
```

- **date-fns**: ë‚ ì§œ í¬ë§·íŒ… (`2024ë…„ 12ì›” 25ì¼` í˜•ì‹)
- **reading-time**: ê¸€ ì½ëŠ” ì‹œê°„ ê³„ì‚° (`5ë¶„ ì½ê¸°` ë“±)

------

### ğŸ”„ ìƒíƒœê´€ë¦¬

```bash
yarn add zustand
```

- **zustand**: ê°„ë‹¨í•œ ì „ì—­ ìƒíƒœê´€ë¦¬ (ë‹¤í¬ëª¨ë“œ, ê²€ìƒ‰ í•„í„° ë“±)

------

### ğŸ” SEO ë° ì‚¬ì´íŠ¸ ìµœì í™”

```bash
yarn add next-seo next-sitemap
```

- **next-seo**: í˜ì´ì§€ë³„ ë©”íƒ€íƒœê·¸, OG íƒœê·¸ ê´€ë¦¬
- **next-sitemap**: sitemap.xml, robots.txt ìë™ ìƒì„±

------

### ğŸ¨ UI ë° í…Œë§ˆ

```bash
yarn add next-themes react-icons
```

- **next-themes**: ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ í† ê¸€ ê¸°ëŠ¥
- **react-icons**: GitHub, Twitter ë“± ë‹¤ì–‘í•œ ì•„ì´ì½˜

------

### ğŸ“– ë§ˆí¬ë‹¤ìš´ ë©”íƒ€ë°ì´í„°

```bash
yarn add gray-matter
```

- **gray-matter**: Markdown íŒŒì¼ì˜ frontmatter íŒŒì‹± (title, date ë“±)

------

### ğŸ› ï¸ ê°œë°œ ë„êµ¬

```bash
yarn add -D @tailwindcss/typography prettier prettier-plugin-tailwindcss
```

- **@tailwindcss/typography**: Markdown ì½˜í…ì¸  ìŠ¤íƒ€ì¼ë§ (`prose` í´ë˜ìŠ¤)
- **prettier**: ì½”ë“œ í¬ë§·í„°
- **prettier-plugin-tailwindcss**: Tailwind í´ë˜ìŠ¤ ì •ë ¬ ì§€ì›

------

## ğŸ—‚ í´ë” êµ¬ì¡° ì„¤ê³„ (MVP ê¸°ì¤€)

```bash
blog/
â”œâ”€â”€ content/               # MDX í¬ìŠ¤íŠ¸
â”‚   â””â”€â”€ posts/
â”‚       â”œâ”€â”€ first-post.mdx
â”‚       â””â”€â”€ second-post.mdx
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/               # App Router ê¸°ë°˜ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ ThemeProvider.tsx
â”‚   â”‚   â””â”€â”€ BlogCard.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ store.ts
â”‚   â””â”€â”€ styles/
â”œâ”€â”€ public/
â”œâ”€â”€ contentlayer.config.ts
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ next.config.mjs
â””â”€â”€ package.json
```

------

## ğŸ“š ì»¤ë°‹ ì»¨ë²¤ì…˜ (Commit Message Convention)

### âœ… ê¸°ë³¸ í˜•ì‹

```php+HTML
<íƒ€ì…>: <ë³€ê²½ ìš”ì•½>

ë³¸ë¬¸ (ì„ íƒ)

BREAKING CHANGE: (ì„ íƒ)
```

### âœ… íƒ€ì… ê°€ì´ë“œ

| íƒ€ì…       | ì„¤ëª…                                                         |
| ---------- | ------------------------------------------------------------ |
| `feat`     | ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€                                             |
| `fix`      | ë²„ê·¸ ìˆ˜ì •                                                    |
| `docs`     | ë¬¸ì„œ ìˆ˜ì • (README, ì£¼ì„ ë“±)                                  |
| `style`    | ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (í¬ë§·íŒ… ë“±, ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ)                 |
| `refactor` | ì½”ë“œ ë¦¬íŒ©í† ë§ (ë™ì‘ ë³€ê²½ ì—†ìŒ)                               |
| `perf`     | ì„±ëŠ¥ ê°œì„                                                     |
| `test`     | í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€                                             |
| `chore`    | ë¹Œë“œ/ë°°í¬ ì„¤ì •, íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë“± ê¸°íƒ€ ì‘ì—…                     |
| `ci`       | CI ê´€ë ¨ ì„¤ì • ë³€ê²½                                            |
| `content`  | âœï¸ **MDX í¬ìŠ¤íŠ¸ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •** ë“± **ì½˜í…ì¸  ê´€ë ¨ ì‘ì—… ì „ìš©** |

## ğŸ¶ Huskyë€?

**Git í›…(Git Hooks)**ì„ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

> Git í›…ì´ë€?  
> Gitì´ `ì»¤ë°‹`, `í‘¸ì‹œ`, `ë³‘í•©` ë“±ì˜ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

---

## â— ë¬¸ì œ ë°œìƒ

```bash
husky - add command is DEPRECATED
error Command failed with exit code 1.
```

> ìµœì‹  Husky(v9 ì´ìƒ)ì—ì„œëŠ” `husky add` ëª…ë ¹ì–´ê°€ **ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©°**,
>  ì´ì „ ë°©ì‹ì˜ `install`, `add` ì‚¬ìš©ë„ ë¹„ê¶Œì¥(deprecated)ì…ë‹ˆë‹¤.

------

## ğŸ” ì›ì¸

- `husky add`ëŠ” Husky v9ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.
- ê¸°ì¡´ì—ëŠ” ëª…ë ¹ì–´ í•œ ì¤„ë¡œ í›…ì„ ìƒì„±í•  ìˆ˜ ìˆì—ˆì§€ë§Œ,
   ì´ì œëŠ” **ì§ì ‘ í›… íŒŒì¼ì„ ìƒì„±í•˜ê³  ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½**ë˜ì—ˆìŠµë‹ˆë‹¤.
- ë˜í•œ `.husky/_/husky.sh`ë¥¼ í¬í•¨í•˜ë˜ ì´ˆê¸° ìŠ¤í¬ë¦½íŠ¸ë„ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

------

## âœ… í•´ê²° ë°©ë²• (ìµœì‹  Husky ë°©ì‹)

### 1. ì„¤ì¹˜ ë° ì¤€ë¹„

```bash
yarn add -D husky
npx husky init
```

- `.husky/` í´ë”ì™€ ê¸°ë³¸ `pre-commit` í›…ì´ ìƒì„±ë©ë‹ˆë‹¤.
- `package.json`ì— ìë™ìœ¼ë¡œ ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶”ê°€ë©ë‹ˆë‹¤:

```json
"scripts": {
  "prepare": "husky install"
}
```

ğŸ’¡ ì´ ìŠ¤í¬ë¦½íŠ¸ ë•ë¶„ì— `yarn install` ì‹œ ìë™ìœ¼ë¡œ í›…ì´ ë‹¤ì‹œ ì—°ê²°ë©ë‹ˆë‹¤.

------

### 2. Git í›… ìˆ˜ë™ ìƒì„±

ì»¤ë°‹ ë©”ì‹œì§€ í¬ë§· ê²€ì‚¬ë¥¼ ìœ„í•œ í›…ì„ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤:

```bash
mkdir -p .husky
touch .husky/commit-msg
chmod +x .husky/commit-msg
```

`.husky/commit-msg` íŒŒì¼ ë‚´ìš©:

```bash
#!/bin/sh
npx --no -- commitlint --edit "$1"
```

âœ… ë” ì´ìƒ `._/husky.sh`ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹ì€ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

------

## âœ¨ ìš”ì•½

| í•­ëª©           | ê¶Œì¥ ë°©ì‹ (v9 ê¸°ì¤€)                      |
| -------------- | ---------------------------------------- |
| ì´ˆê¸° ì„¤ì¹˜      | `npx husky init`                         |
| í›… íŒŒì¼ ì¶”ê°€   | ì§ì ‘ `touch .husky/<hook>` í›„ `chmod +x` |
| ì‹¤í–‰ ë‚´ìš© ì¶”ê°€ | í›… íŒŒì¼ ë‚´ë¶€ì— bash ëª…ë ¹ ëª…ì‹œ            |

------

## ğŸ¯ ì™œ Huskyë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?

- ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ ìë™ ê²€ì‚¬
- í¬ë§·íŒ… ë˜ì§€ ì•Šì€ ì½”ë“œ ì»¤ë°‹ ë°©ì§€
- í‘¸ì‹œ ì „ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
- íŒ€ì› ê°„ ì¼ê´€ëœ ê°œë°œ í™˜ê²½ ìœ ì§€

------

## âœï¸ ë§ˆë¬´ë¦¬

ì´ë²ˆ ê¸€ì—ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ì´ˆê¸° ì„¸íŒ… ê³¼ì •ê³¼ ì‚¬ìš©í•œ ë„êµ¬ë“¤ì— ëŒ€í•´ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

ì €ì²˜ëŸ¼ ì§ì ‘ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì€ ë¶„ë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.

