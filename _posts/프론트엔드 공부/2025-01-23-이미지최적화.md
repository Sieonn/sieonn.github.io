---
title: "이미지 최적화"
toc: true
toc_label: "목차"
toc_sticky: true
---

## 이미지 최적화란?

이미지 최적화<small>(Image Optimization)</small>는 웹 페이지나 애플리케이션에서 사용하는 **이미지를 효율적으로 처리**하여 파일 크기를 줄이고, **페이지 로딩 속도를 개선**하며, <span style="hlm">사용자 경험을 향상시키는 과정</span>입니다. 

이미지를 최적화하면 웹 페이지의 성능이 좋아지고, 불필요한 데이터 전송을 줄여 모바일 환경에서도 더 빠르게 작동합니다.

## 이미지 최적화의 방법

### 파일 포맷 변경

이미지는 파일 포맷에 따라 파일 크기와 품질 차이가 큽니다. 웹에서 자주 사용하는 이미지 포맷에서 JPEG, PNG, GIF, WebP 등이 있습니다.

- JPEG (Joint Photographic Experts Group)

  주로 사진이나 그라데이션이 부드러운 이미지에 적합합니다. 같은 복잡한 이미지를 압출할 때 유리하며, 품질과 파일 크기 사이의 좋은 균형을 제공합니다.

  그러나 손실 압축 방식이라서 이미지 품질이 일부 손상이 될 수 있습니다.

- PNG (Portable Network Graphics)

  투명한 배경을 지원하고, 로고나 아이콘처럼 선명한 이미지에 적합합니다. 하지만 PNG는 무손실 압축 방식을 사용하므로 파일 크기가 비교적 큽니다.

- GIF (Graphics Interchange Format)

  애니메이션 이미지를 저장하는 데 사용됩니다. GIF는 256색 이하의 이미지만 지원하므로 색상이 많은 이미지에는 부적합합니다.

- Webp

  Google이 개발한 이미지 포맷으로, JPEG와 PNG보다 파일 크기를 줄이면서 더 좋은 품질을 유지할 수 있습니다. 그러나 모든 브라우저에서 지원하는 것은 아닙니다.

  

### 이미지 해상도와 크기 조정

웹에서 불필요하게 높은 해상도를 가진 이미지를 사용하는 경우가 많습니다. 그래서 실제 사용되는 크기보다 큰 이미지를 업로드하면 불필요한 용량을 차지하게 되므로, 필요한 크기만큼만 해상도를 줄여서 업로드해야 합니다.

- 크기 조정

  이미지가 표시될 크기보다 큰 해상도의 이미지를 사용하면 불필요한 데이터가 포함됩니다. 사용자의 화면 크기나 디스플레이 해상도에 맞춰 적절한 크기로 리사이즈 해야합니다.

- 해상도 조정

  모바일 디바이스나 고해상도 디스플레이에서는 일반적으로 72 DPI(dots per inch) 정도의 해상도가 적당합니다. 고해상도의 이미지는 파일 크기를 불필요하게 키울 수 있습니다.



### 압축

이미지 압축은 이미지 품질을 어느 정도 유지하면서 파일 크기를 줄이는 방법입니다.

압축 방식에는 **손실 압축**과 **무손실 압축**이 있습니다.

- **무손실 압축**<small>(Lossless Compression)</small>

  이미지의 품질을 손상시키지 않고 파일 크기를 줄이는 방식입니다. PNG나 GIF 는 무손실 압축을 사용합니다.  이 방식은 품질 유지가 중요한 경우에 유용하지만, 파일 크기 절감이 손실 압축만큼 효율적이지는 않습니다.

- **손실 압축**<small>(Lossy Compression)</small>

  이미지의 품질을 전혀 손상시키지 않고 파일 크기를 줄이는 방식입니다. PNG나 GIF는 무손실 압축을 사용합니다. 이 방식은 품질 유지가 중요한 경우에 유용하지만, 파일 크기 절감이 손실 압축만큼 효율적이지는 않습니다.

`라이트 하우스 = 개발자 도구에서 성능 볼 수 있는 지표`



### 이미지 최적화 도구 사용

이미지를 최적화 하려면 다양한 도구와 기술을 활용할 수 있습니다.

온라인 도구나 소프트웨어를 통해 이미지 최적화를 자동화할 수 있습니다.

- 온라인 도구

  TinyPNG, Compressor.io, ImageOptim 등은 손쉽게 이미지를 압축하고 최적화할 수 있는 웹 기반 서비스입니다.

- 소프트웨어 도구

  Photoshop이나 GIMP, Affinity Photo등에서 직접 이미지 품질과 해상도를 조정하여 최적화 할 수 있습니다. 또한, 이미지의 메타데이터를 제거하는 것도 최적화의 한 부분입니다.

- 커맨드 라인 도구

  웹 개발자나 고급 사용자는 ImageMagick, OptiPNG, JPEGoptim 같은 명령어 기반 툴을 사용하여 대량의 이미지를 자동화된 방식으로 최적화할 수 있습니다.

  

### 이미지 서빙 최적화

이미지 최적화는 서버에서 어떻게 제공될지에 대해서 고려해아야합니다. 이를 위해 **Responsive Images** 와 **Lazy Loading** 같은 기법을 활용할 수 있습니다.

- **Responsive Images**: 다양한 화면 크기와 해상도에 맞춰 적절한 이미지를 제공하는 방법입니다. `<picture>` 태그나 `srcset` 속성을 활용해 사용자 디바이스에 맞는 이미지를 로드할 수 있습니다.

- **Lazy Loading**: 페이지가 로드될 때 모든 이미지를 한 번에 불러오는 것이 아니라, 사용자가 스크롤하여 이미지를 볼 때마다 그 이미지를 불러오는 방식입니다. 이 방법을 사용하면 초기 로딩 시간이 단축되고, 불필요한 데이터 로드를 방지할 수 있습니다.



### 포맷 변환

때때로 이미지 파일을 다른 포맷으로 변환하는 것이 최적화의 한 방법이 될 수 있습니다. 예를 들어, JPEG 이미지를 WebP 포맷으로 변환하면 동일한 품질에서 더 작은 파일 크기를 얻을 수 있습니다.



### 미니마이징 메타데이터

이미지 파일에는 EXIF, IPTC와 같은 메타데이터가 포함될 수 있습니다. 이 메타데이터는 이미지 촬영 정보나 위치 데이터 등을 포함하고 있지만, 웹에서 사용하는 경우 불필요한 데이터일 수 있습니다. 이를 제거하면 파일 크기를 추가적으로 줄일 수 있습니다.



### ➕ 스프라이트 이미지

{: .notice}

**스프라이트 이미지<small>(Sprite Image)</small>**<br/>여러 개 작은 이미지를 하나의 큰 이미지 파일로 합친 것입니다. 주로 웹 디자인과 게임 개발에서 사용되며, 여러 개의 이미지를 하나의 파일로 묶어 페이지 로딩 시간을 줄이고, 성능을 향상시키기 위해 사용됩니다.



#### 스프라이트 이미지의 특징과 장점

1. HTTP 요청 수 감소

   웹페이지나 애플리케이션에서는 각각의 이미지가 서버에서 별도로 요청되고 응답을 받는 과정을 거칩니다. 많은 이미지를 사용할 경우, 각 이미지마다 HTTP 요청이 발생하여 로딩 속도가 느려질 수 있습니다. 스프라이트 이미지를 사용하면 여러 이미지를 하나의 파일로 합칠 수 있기 때문에 서버와의 통신을 최소화하여 요청 횟수를 줄일 수 있습니다.

   

2. 성능 향상

   이미지가 하나로 합쳐지면 브라우저가 이를 한 번만 요청하면 되므로, 페이지 로딩 시간이 단축됩니다.  이 방식은 특히 이미지가 많고, 웹페이지 로딩 시간이 중요한 경우에 유리합니다.

   

3. 캐싱 효율성

   하나의 큰 이미지만 캐시하면 되기 때문에, 캐시의 활용도가 높아지고, 사용자가 다시 방문할 때 더 빠른 로딩을 제공합니다.

#### 스프라이트 이미지의 구성

스프라이트 이미지는 일반적으로 다음과 같은 방식으로 구성됩니다.

- 가로/세로 배열

  CSS나 자바스크립트를 이용해 원하는 작은 이미지를 정확히 표시하려면 그 이미지가 스프라이트 이미지 내에서 어디에 위치하는지 알아야합니다. 각 이미지의 위치는 `background-position` 속성으로 지정됩니다.

- 각각의 이미지에 대한 위치 지정

