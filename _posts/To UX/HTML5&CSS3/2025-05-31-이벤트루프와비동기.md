---
title: "[To UX] ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì™œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šì„ê¹Œ"  
toc: true
toc_label: "ëª©ì°¨"
toc_sticky: true
category: "JavaScript"
---

## ðŸš€ ì‹œìž‘í•˜ë©°

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì‹ ìž…ìœ¼ë¡œì„œ ì—…ë¬´ë¥¼ ë³´ë©´ì„œ ì§ì ‘ ì½”ë“œë¥¼ ìž‘ì„±í•˜ëŠ” ì‹œê°„ë³´ë‹¤ ë‹¤ë¥¸ ì‚¬ëžŒì´ ìž‘ì„±í•œ ì½”ë“œë¥¼ ë³´ë©´ì„œ íë¦„ì„ ì •ë¦¬í•˜ê±°ë‚˜ ë³´ëŠ” ê²½ìš°ê°€ ë§Žì•˜ìŠµë‹ˆë‹¤. ì´ë•Œ ë“¤ì—ˆë˜ ìƒê°ì´ ìžˆìŠµë‹ˆë‹¤.

> "ì½”ë“œë¥¼ ìœ„ì—ì„œë¶€í„° ì¼ëŠ”ë° ì™œ ì•„ëž˜ê°€ ë¨¼ì € ì‹¤í–‰ë˜ì§€?"

ì´ëŠ” ìžë°”ìŠ¤í¬ë¦½íŠ¸ì˜ **ì´ë²¤íŠ¸ ë£¨í”„(event loop)**ì™€ **ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹** ë•Œë¬¸ì¸ë°ìš”,  
ì˜¤ëŠ˜ì€ ê·¸ í•µì‹¬ ì›ë¦¬ë¥¼ ì‹œê°ì ìœ¼ë¡œ, ê·¸ë¦¬ê³  ì‹¤ì „ ì˜ˆì œ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

---

##  JavaScriptëŠ” ì™œ ì‹±ê¸€ ìŠ¤ë ˆë“œì¼ê¹Œ?

ìžë°”ìŠ¤í¬ë¦½íŠ¸(JavaScript)ëŠ” **ì‹±ê¸€ ìŠ¤ë ˆë“œ ì–¸ì–´**ìž…ë‹ˆë‹¤.  
ì¦‰, í•œ ë²ˆì— í•œ ì¤„ì˜ ì½”ë“œë§Œ ì²˜ë¦¬í•  ìˆ˜ ìžˆë‹¤ëŠ” ëœ»ìž…ë‹ˆë‹¤.  
ë©€í‹° ìŠ¤ë ˆë“œê°€ ì•„ë‹ˆë¼ë©´ ë¸Œë¼ìš°ì €ì—ì„œ ì—¬ëŸ¬ ìž‘ì—…ì„ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ì—†ì„ í…ë°â€¦ ì–´ë–»ê²Œ ê°€ëŠ¥í• ê¹Œìš”?

> ðŸ’¡ **ì •ë‹µì€? ë¸Œë¼ìš°ì €(Web API)ê°€ ë¹„ë™ê¸° ìž‘ì—…ì„ ëŒ€ì‹  ì²˜ë¦¬í•´ì£¼ê¸° ë•Œë¬¸!**

- JavaScriptëŠ” ì½”ì–´ ë¡œì§ë§Œ ì²˜ë¦¬ (ì‹±ê¸€ ìŠ¤ë ˆë“œ)
- ë¸Œë¼ìš°ì €ëŠ” íƒ€ì´ë¨¸, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“± ë¹„ë™ê¸° ìž‘ì—…ì„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²˜ë¦¬ í›„ ë‹¤ì‹œ JSì—ê²Œ ë„˜ê¹€

**ë¹„ìœ í•˜ìžë©´?**  
í˜¼ìž ì¼í•˜ëŠ” ì…°í”„ê°€ ìš”ë¦¬ë§Œ í•˜ê³ , ì†ë‹˜ ì‘ëŒ€ë‚˜ ë°°ë‹¬ì€ ë‹¤ë¥¸ ì§ì›ì´ ë§¡ëŠ” êµ¬ì¡°ì¸ ê²ƒìž…ë‹ˆë‹¤.

---

## ë™ê¸° vs ë¹„ë™ê¸°: ë¬´ìŠ¨ ì°¨ì´ì¼ê¹Œ?

### âœ… ë™ê¸°(Synchronous)
- ì½”ë“œë¥¼ **í•œ ì¤„ì”© ìˆœì°¨ì ìœ¼ë¡œ** ì‹¤í–‰

- **ì´ì „ ìž‘ì—…ì´ ëë‚˜ì•¼** ë‹¤ìŒ ì¤„ ì‹¤í–‰ ê°€ëŠ¥

```js
console.log('1');
console.log('2');
ê²°ê³¼: 1, 2
```

### âœ… ë¹„ë™ê¸°(Asynchronous)

- **ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ ** ë‹¤ìŒ ì½”ë“œë¥¼ ë¨¼ì € ì‹¤í–‰í•¨
- ì™„ë£Œë˜ë©´ ë‚˜ì¤‘ì— "ì½œë°±(Callback)" í˜•íƒœë¡œ ì‹¤í–‰ë¨

```javascript
console.log('1');
setTimeout(() => {
  console.log('2');
}, 1000);
console.log('3');
ê²°ê³¼: 1, 3, 2
```

## ì½œë°±<small>(Callback)</small>

> **ì½œë°±<small>(Callback)</small>**
>
> ì½œë°±í•¨ìˆ˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ì— **ì¸ìžë¡œ ì „ë‹¬**ë˜ì–´, íŠ¹ì • ì´ë²¤íŠ¸ë‚˜ ì¡°ê±´ì´ ë°œìƒí–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•©ë‹ˆë‹¤.
> ðŸ‘‰ **ë‚˜ì¤‘ì— ì‹¤í–‰ë  í•¨ìˆ˜**ë¥¼ ë¯¸ë¦¬ ë„˜ê²¨ì£¼ëŠ” ê²ƒ

### ðŸ” ì™œ ì‚¬ìš©í•˜ëŠ”ê°€?

`JavaScript`ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œë¼ì„œ ì„œë²„ì— íŒŒì¼ì„ ìš”ì²­í•˜ê±°ë‚˜, íŒŒì¼ì„ ì½ëŠ” ë“±ì˜ ì‹œê°„ì´ ì˜¤ëž˜ê±¸ë¦¬ëŠ” ìž‘ì—…ì€ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ê³ , **ê·¸ ê²°ê³¼ê°€ ë‚˜ì™”ì„ ë•Œ ì‹¤í–‰ë  í•¨ìˆ˜**ë¥¼ ë¯¸ë¦¬ ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì´ë•Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ë°”ë¡œ **ì½œë°±**ìž…ë‹ˆë‹¤.

```javascript
function greet(name, callback) {
  console.log("ì•ˆë…•í•˜ì„¸ìš”, " + name + "ë‹˜!");
  callback(); // ë‚˜ì¤‘ì— ì‹¤í–‰ë¨
}

function finishGreeting() {
  console.log("ì¸ì‚¬ ì™„ë£Œ!");
}

greet("ì–¸", finishGreeting);

>>> 
ì•ˆë…•í•˜ì„¸ìš”, ì–¸ë‹˜!
ì¸ì‚¬ ì™„ë£Œ!

```

**âœ… ë¹„ë™ê¸° ìƒí™©ì—ì„œ ì½œë°±**

``` javascript
setTimeout(() => {
    console.log("1ì´ˆ í›„ì— ì‹¤í–‰!");
}, 1000);
```

ìœ„ì˜ ì½”ë“œì—ì„œ `()=>{console.log("1ì´ˆ í›„ì— ì‹¤í–‰")}`ì´ê²ƒì´ ë°”ë¡œ ì½œë°± í•¨ìˆ˜ ìž…ë‹ˆë‹¤. `setTimeout`ì€ 1ì´ˆ í›„ì— ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ ë‹¬ë¼ëŠ” ì˜ë¯¸ì´ê³ , ê·¸ í•¨ìˆ˜ë¥¼ ì½œë°±ìœ¼ë¡œ ì „ë‹¬í•œ ê²ƒìž…ë‹ˆë‹¤.



## ì½œë°± íì™€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í

ìžë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” **ë‘ ê°€ì§€ í(Queue)**ê°€ ì¡´ìž¬í•©ë‹ˆë‹¤.

### ðŸ“¦ ì½œë°± í (Task Queue)

> **ë¸Œë¼ìš°ì €ì˜ Web API**ì—ì„œ ë¹„ë™ê¸° ìž‘ì—…ì´ ì™„ë£Œë˜ì—ˆì„ ë•Œ, í•´ë‹¹ ìž‘ì—…ì˜ ì½œë°± í•¨ìˆ˜ê°€ ë“±ë¡ë˜ëŠ” íë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

`setTimeout`, `setInterval`, `DOM ì´ë²¤íŠ¸`, `XHR(onload)` ë“±ì´ ì—¬ê¸°ì— í•´ë‹¹ë©ë‹ˆë‹¤.

**Call Stack**ì´ ë¹„ì—ˆì„ ë•Œ, ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì´ íì—ì„œ í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.

```javascript
setTimeout(() => {
  console.log('Callback Queue');
}, 0);
```



### ðŸ“¦ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í (Microtask Queue)

> ë¹„ë™ê¸° ìž‘ì—… ì¤‘ì—ì„œë„ ë” ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§„ ìž‘ì—…ë“¤ì´ ë“¤ì–´ê°€ëŠ” íìž…ë‹ˆë‹¤.

`Promise.then`, `async/await` ì˜ await ì´í›„, `queueMicrotask()`í›„ë“±ì´ ì—¬ê¸°ì— í•´ë‹¹ë©ë‹ˆë‹¤.

**Call Stack**ì´ ë¹„ìžë§ˆë‹¤ ê°€ìž¥ ë¨¼ì € ì²˜ë¦¬ë©ë‹ˆë‹¤.

í•˜ë‚˜ë¼ë„ ìžˆìœ¼ë©´, ëª¨ë‘ ì²˜ë¦¬í•œ í›„ì— ì½œë°± íë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

```javascript
Promise.resolve().then(() => {
  console.log('Microtask Queue');
});
```



### ðŸ’¥ ì°¨ì´ì  ì •ë¦¬

| í•­ëª©      | ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í                         | ì½œë°± í                                      |
| --------- | ----------------------------------------- | -------------------------------------------- |
| ìš°ì„ ìˆœìœ„  | ë” ë†’ìŒ                                   | ë‚®ìŒ                                         |
| ì‹¤í–‰ ì‹œì  | Call Stackì´ ë¹„ìžë§ˆìž **ë°”ë¡œ**            | ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ê°€ **ëª¨ë‘ ëë‚œ í›„**            |
| ëŒ€í‘œ ìž‘ì—… | `Promise.then`, `await`, `queueMicrotask` | `setTimeout`, `setInterval`, `DOM ì´ë²¤íŠ¸` ë“± |

------

## ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì²˜ë¦¬í•˜ëŠ” ìˆœì„œ

### âœ… ì´ë²¤íŠ¸ ë£¨í”„ ë™ìž‘ ìˆœì„œ

1. JavaScript ì½”ë“œ ì‹¤í–‰ (Call Stack)
2. Stackì´ ë¹„ë©´
3. **Microtask Queue** ì²˜ë¦¬
4. ê·¸ í›„ì— **Callback Queue** ì²˜ë¦¬



```javascript
console.log('A');

setTimeout(() => {
  console.log('B');
}, 0);

Promise.resolve().then(() => {
  console.log('C');
});

console.log('D');
```

> ì‹¤í–‰ ê²°ê³¼ëŠ”?

```
A  
D  
C  
B
```

### â— ì™œ ì´ë ‡ê²Œ ì‹¤í–‰ë ê¹Œ?

- `A` â†’ `console.log` ë™ê¸° ì²˜ë¦¬
- `setTimeout`: Callback Queueë¡œ ì´ë™ (0ì´ˆì§€ë§Œ ìµœì†Œ ì§€ì—° ìžˆìŒ)
- `Promise.then`: Microtask Queue â†’ Stackì´ ë¹„ë©´ ë°”ë¡œ ì‹¤í–‰
- `D`: ë§ˆì§€ë§‰ ë™ê¸° ì½”ë“œ â†’ ë°”ë¡œ ì‹¤í–‰ë¨
- Stackì´ ë¹„ë©´ â†’ Microtask(C) â†’ Callback(B)

------

## setTimeout, Promise, async/await ë¹„êµ ì‹¤í—˜

### ðŸ”¬ ì‹¤í—˜ 1: setTimeout vs Promise

```javascript
setTimeout(() => console.log('timeout'), 0);
Promise.resolve().then(() => console.log('promise'));
```

> ê²°ê³¼: `promise` â†’ `timeout`

âž¡ï¸ Microtask Queueê°€ í•­ìƒ ìš°ì„ !



### ì‹¤í—˜ 2: async/await ì•ˆì˜ íë¦„

```javascript
async function test() {
  console.log('1');
  await Promise.resolve();
  console.log('2');
}

test();
console.log('3');
```

> ê²°ê³¼: `1`, `3`, `2`

â†’ `await`ëŠ” **í•¨ìˆ˜ ë‚´ë¶€ë¥¼ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¡œ ë¶„ë¦¬**í•´ì„œ, ë¨¼ì € ë°”ê¹¥ ì½”ë“œ(3)ê°€ ì‹¤í–‰ë¨

------

## ì‹¤ë¬´ì—ì„œ ê²ªëŠ” ëŒ€í‘œ ì´ìŠˆì™€ í•´ê²°ë²•

### âŒ Spinnerê°€ ì•ˆ ëœ¨ëŠ” ë¬¸ì œ

```javascript
setLoading(true);
fetchData();
setLoading(false);
```

> ì´ë ‡ê²Œ í•˜ë©´ fetchê°€ ëë‚˜ê¸° ì „ì— `setLoading(false)`ê°€ ì‹¤í–‰ë¨
>  âž¡ï¸ í•´ê²°: `await` ë˜ëŠ” `.then`ìœ¼ë¡œ ë¶„ë¦¬ í•„ìš”

------

### âŒ Promise ë‚´ë¶€ ë¹„ë™ê¸° ë¡œì§ ëˆ„ë½

```javascript
function getData() {
  fetch('...')
    .then(res => res.json());
}
console.log(getData()); // undefined
```

`Promise`ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•„ì„œ awaitë„ ëª» ì“°ê³ , ê²°ê³¼ë„ ëª» ë°›ìŒ
 âž¡ï¸ í•´ê²°: `return fetch(...)`

------

### âŒ setTimeout ì•ˆì˜ state ê°±ì‹ ì´ ëŠ¦ê²Œ ë°˜ì˜

```javascript
setTimeout(() => {
  setState(value + 1); // valueê°€ ìµœì‹ ê°’ì´ ì•„ë‹ ìˆ˜ ìžˆìŒ
}, 1000);
```

âž¡ï¸ í•´ê²°: `setState(prev => prev + 1)` í˜•íƒœ ì‚¬ìš©